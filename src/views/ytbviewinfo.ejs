<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Banco de Dados - Guilda</title>
  <link href="../css/cssdir/out.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="bg-transparent min-h-full flex items-start justify-center pt-10">
  <div
    class="bg-gray-800/80 backdrop-blur-md border border-gray-700 p-8 rounded-2xl shadow-2xl w-full max-w-full animate-fade-in-up">

    <!-- Header da guilda -->
    <div class="flex items-center gap-6 mb-8 border-b border-gray-700/50 pb-6">
      <div class="relative group">
        <div
          class="absolute -inset-1 bg-red-600 rounded-lg blur opacity-25 group-hover:opacity-100 transition duration-1000 group-hover:duration-200">
        </div>
        <% if (info.icon && info.icon.indexOf('null')===-1) { %>
          <img src="<%= info.icon %>" alt="Ícone da guilda"
            class="relative w-20 h-20 rounded-lg object-cover shadow-lg ring-2 ring-gray-700" />
          <% } else { %>
            <img src="/res/serverIcon/nonserverimg.jpg" alt="Ícone padrão"
              class="relative w-20 h-20 rounded-lg object-cover shadow-lg ring-2 ring-gray-700" />
            <% } %>
      </div>
      <div class="flex-1">
        <h3 class="text-2xl font-bold text-white mb-2 flex items-center gap-3">
          <i class="fa-solid fa-database text-red-500"></i>
          Banco de Dados de Vídeos
        </h3>
        <p class="text-gray-400 text-sm max-w-2xl">Visualização bruta dos dados armazenados para a guilda <strong>
            <%= info.name %>
          </strong>.</p>
      </div>
    </div>

    <!-- Tabela de dados -->
    <div class="overflow-hidden rounded-xl border border-gray-700/50 bg-gray-800/40">
      <table class="min-w-full divide-y divide-gray-700">
        <thead class="bg-gray-700/50">
          <tr>
            <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-wider">YouTube
              ID</th>
            <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-wider">Canal
            </th>
            <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-wider">Último
              Vídeo</th>
            <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-wider">Data
              Pub.</th>
            <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-wider">
              Mensagem</th>
            <th scope="col" class="px-6 py-4 text-left text-xs font-bold text-gray-400 uppercase tracking-wider">Status
            </th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-700/50">
          <% info2.forEach(item=> { %>
            <tr class="hover:bg-gray-700/30 transition-colors">
              <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-xs text-red-400">
                <%= item.youtube %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-white">
                <%= item.channel %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300 font-mono text-xs truncate max-w-[150px]">
                <%= item.lastVideo %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400">
                <%= item.lastPublish %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400 italic truncate max-w-[200px]">
                <%= item.message %>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400">
                <%= item.notifyGuild %>
              </td>
            </tr>
            <% }); %>

              <% if (info2.length===0) { %>
                <tr>
                  <td colspan="6" class="px-6 py-10 text-center text-gray-500">
                    <div class="flex flex-col items-center justify-center">
                      <i class="fa-solid fa-database text-4xl mb-3 opacity-30"></i>
                      <p>Nenhum dado encontrado no banco.</p>
                    </div>
                  </td>
                </tr>
                <% } %>
        </tbody>
      </table>
    </div>
  </div>
</body>

</html>